#!/usr/bin/env bash

PASSWORD="DRAJ"
TRIAL_PERIOD=120 # Trial period in seconds (e.g., 3600 seconds = 1 hour)
START_TIME_FILE="/storage/emulated/0/PUBGPASTER/start_time.txt"

# Function to get the current time in seconds since epoch
current_time() {
    date +%s
}

# Function to check if the trial period has expired
check_trial_period() {
    if [[ -f "$START_TIME_FILE" ]]; then
        start_time=$(cat "$START_TIME_FILE")
        current_time=$(current_time)
        elapsed_time=$((current_time - start_time))

        if (( elapsed_time > TRIAL_PERIOD )); then
            echo "Trial period has expired. Access denied."
            exit 1
        fi
    else
        echo $(current_time) > "$START_TIME_FILE"
    fi
}

# Function to prompt for password
prompt_password() {
    read -sp "Enter password: " input_password
    echo

    if [[ "$input_password" != "$PASSWORD" ]]; then
        echo "Incorrect password. Access denied."
        exit 1
    fi
}

# Check trial period
check_trial_period

# Prompt for password
prompt_password

# Rest of your script
echo "Access granted. Running the script..."
